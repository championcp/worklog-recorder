<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工作日志记录软件 - 测试用例管理系统</title>
    
    <!-- 防缓存设置 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- 带时间戳的CSS文件引用 -->
    <link rel="stylesheet" href="css/styles.css">
    
    <script>
        // 动态添加时间戳到CSS文件
        function addTimestampToResources() {
            const timestamp = new Date().getTime();
            
            // 更新CSS文件
            const cssLink = document.querySelector('link[href*="styles.css"]');
            if (cssLink) {
                cssLink.href = `css/styles.css?v=${timestamp}`;
            }
        }
        
        // 立即执行
        addTimestampToResources();
    </script>
</head>
<body>
    <div class="container">
        <!-- 页面标题 -->
        <header class="header">
            <h1>工作日志记录软件 - 测试用例管理系统</h1>
            <p>模块化测试用例管理与执行平台</p>
        </header>

        <!-- 导航菜单 -->
        <nav class="module-navigation">
            <h2>测试模块导航</h2>
            <div class="module-grid" id="module-grid">
                <!-- 模块卡片将通过JavaScript动态生成 -->
                <div class="loading-placeholder">
                    <div class="loading-spinner"></div>
                    <p>正在加载模块数据...</p>
                </div>
            </div>
        </nav>

        <!-- 总体统计仪表盘 -->
        <div class="dashboard">
            <div class="stat-card total">
                <div class="stat-number" id="total-tests">88</div>
                <div class="stat-label">总测试用例</div>
            </div>
            <div class="stat-card passed">
                <div class="stat-number" id="passed-tests">0</div>
                <div class="stat-label">已通过</div>
            </div>
            <div class="stat-card failed">
                <div class="stat-number" id="failed-tests">0</div>
                <div class="stat-label">已失败</div>
            </div>
            <div class="stat-card pending">
                <div class="stat-number" id="pending-tests">88</div>
                <div class="stat-label">待测试</div>
            </div>
        </div>

        <!-- 进度条 -->
        <div class="progress-section">
            <div class="progress-text">
                <span>总体测试进度: </span>
                <span id="pass-rate">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-bar" style="width: 0%"></div>
            </div>
        </div>

        <!-- 快速操作 -->
        <div class="quick-actions">
            <h2>快速操作</h2>
            <div class="action-buttons">
                <button id="view-all-tests" class="btn btn-primary">查看所有测试用例</button>
                <button id="run-all-tests" class="btn btn-success">执行所有测试</button>
                <button id="export-results" class="btn btn-secondary">导出测试结果</button>
                <button id="generate-report" class="btn btn-info">生成测试报告</button>
            </div>
        </div>

        <!-- 测试用例详细视图（默认隐藏） -->
        <div id="test-cases-view" class="test-cases-view" style="display: none;">
            <div class="view-header">
                <h2 id="current-module-title">所有测试用例</h2>
                <button id="back-to-modules" class="btn btn-outline">返回模块导航</button>
            </div>
            
            <!-- 筛选和搜索 -->
            <div class="filters">
                <div class="filter-group">
                    <label>状态筛选：</label>
                    <select id="status-filter">
                        <option value="all">全部</option>
                        <option value="passed">已通过</option>
                        <option value="failed">已失败</option>
                        <option value="pending">待测试</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="priority-filter">优先级筛选：</label>
                    <select id="priority-filter">
                        <option value="all">所有优先级</option>
                        <option value="high">高优先级</option>
                        <option value="medium">中优先级</option>
                        <option value="low">低优先级</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="search-input">搜索：</label>
                    <input type="text" id="search-input" placeholder="搜索测试用例...">
                </div>
            </div>

            <!-- 测试用例列表 -->
            <div id="test-cases-container">
                <!-- 测试用例将通过JavaScript动态生成 -->
            </div>
        </div>
    </div>

    <!-- JavaScript 文件 -->
    <!-- 配置管理器 - 必须最先加载 -->
    <script src="js/config.js"></script>
    <!-- 缓存管理器 - 必须首先加载 -->
    <script src="js/cacheManager.js"></script>
    <script src="js/utils.js"></script>
    <!-- API服务 - 在testData.js之前加载 -->
    <script src="js/apiService.js"></script>
    <script src="js/testData.js"></script>
    <script src="js/moduleManager.js"></script>
    <script src="js/testManager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>